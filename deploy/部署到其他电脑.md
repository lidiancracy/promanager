# 🚀 部署到其他电脑 - 完整指南

## ✅ 项目已可运行

你的项目**已经完全可以部署**到其他电脑了！

---

## 📦 需要打包哪些文件？

### 方案一：打包 `deploy` 文件夹（推荐）

将 **`deploy`** 文件夹整个打包成 zip，包含以下文件：

```
deploy.zip
├── open.exe            ⭐ 必需 - 主程序（约8-10MB）
├── themes.py           ⭐ 必需 - 主题文件
├── config.json         ⭐ 必需 - IDE路径配置
├── 一键安装.bat         📌 推荐 - 自动安装脚本
├── 测试运行.bat         🧪 可选 - 测试脚本
├── README.md           📖 推荐 - 完整文档
└── 使用说明.txt         📖 推荐 - 快速参考
```

**最小部署包**（只需3个文件）：
```
minimal-deploy.zip
├── open.exe
├── themes.py
└── config.json
```

---

## 🎯 在新电脑上的部署步骤

### 步骤 1️⃣：解压文件

将 zip 解压到任意位置，例如：
- `C:\Tools\project-manager\`
- `D:\Software\open\`
- 或任何你喜欢的位置

### 步骤 2️⃣：修改 config.json

**重要！** 用记事本打开 `config.json`，修改为新电脑的 IDE 路径：

```json
{
  "ide_paths": {
    "idea": "D:\\Program Files\\JetBrains\\IntelliJ IDEA\\bin\\idea64.exe",
    "vscode": "C:\\Program Files\\Microsoft VS Code\\Code.exe",
    "webstorm": "D:\\Program Files\\JetBrains\\WebStorm\\bin\\webstorm64.exe",
    "cursor": "cursor"
  },
  "default_ide": "idea"
}
```

#### ⚠️ 路径格式说明

**方式一：双斜杠（推荐）**
```json
"idea": "D:\\Program Files\\JetBrains\\IDEA\\bin\\idea64.exe"
```

**方式二：正斜杠（也可以）**
```json
"idea": "D:/Program Files/JetBrains/IDEA/bin/idea64.exe"
```

**❌ 错误写法（单斜杠）：**
```json
"idea": "D:\Program Files\JetBrains\IDEA\bin\idea64.exe"  // 会出错！
```

**为什么必须用双斜杠？**
- 在 JSON 中，`\` 是转义字符
- `\P`、`\J` 等会被当作转义序列
- 必须用 `\\` 才能表示一个真正的反斜杠

### 步骤 3️⃣：运行安装脚本

双击 **`一键安装.bat`**

脚本会自动：
- ✅ 检查文件完整性
- ✅ 将程序目录添加到系统 PATH
- ✅ 询问是否立即编辑配置

### 步骤 4️⃣：重新打开 CMD

**重要！** 必须重新打开 CMD 窗口，让 PATH 生效

### 步骤 5️⃣：开始使用

```cmd
open help      # 查看帮助
open add       # 添加项目
open ls        # 批量打开项目
```

---

## 🧪 测试运行（不安装）

如果想先测试功能，不想安装：

1. 双击 **`测试运行.bat`**
2. 会打开一个临时 CMD 环境
3. 可以直接测试所有命令
4. 关闭后不影响系统

---

## 📁 如何找到 IDE 的安装路径？

### IntelliJ IDEA
1. **方法一**：右键桌面快捷方式 → 属性 → 查看"目标"
2. **方法二**：默认路径：
   ```
   C:\Program Files\JetBrains\IntelliJ IDEA 20XX.X\bin\idea64.exe
   D:\Program Files\JetBrains\IntelliJ IDEA 20XX.X\bin\idea64.exe
   ```

### VSCode
```
C:\Program Files\Microsoft VS Code\Code.exe
或
C:\Users\你的用户名\AppData\Local\Programs\Microsoft VS Code\Code.exe
```

### WebStorm
```
C:\Program Files\JetBrains\WebStorm 20XX.X\bin\webstorm64.exe
D:\Program Files\JetBrains\WebStorm 20XX.X\bin\webstorm64.exe
```

### Cursor
通常直接写 `cursor` 即可（如果已添加到 PATH）

---

## 📋 部署清单

在新电脑部署时需要：

- [ ] 复制整个文件夹
- [ ] 修改 `config.json`（改为新电脑的 IDE 路径）
- [ ] 运行 `一键安装.bat`
- [ ] 重新打开 CMD
- [ ] 运行 `open help` 测试

---

## 💾 数据文件位置

### 项目数据
```
C:\Users\你的用户名\.project-manager\projects.json
```

所有添加的项目信息都存在这里，可以：
- 直接编辑
- 备份
- 复制到其他电脑同步项目列表

### IDE 配置
```
程序所在目录\config.json
```

---

## 🔄 多电脑同步方案

### 方案 1：手动同步项目数据
复制 `C:\Users\你的用户名\.project-manager\projects.json` 到其他电脑相同位置

### 方案 2：每台电脑独立配置
在每台电脑上：
1. 放到相同位置（如 `C:\Tools\project-manager\`）
2. 修改 `config.json` 为对应电脑的 IDE 路径
3. 运行安装脚本
4. 各自添加项目

---

## 🛠️ 常见问题

### Q: 提示找不到 open 命令？
**A:** 
1. 确认已运行安装脚本
2. 重新打开 CMD 窗口
3. 检查环境变量 PATH 是否包含程序目录

### Q: IDE 无法打开项目？
**A:** 
1. 确认 IDE 已安装
2. 检查 `config.json` 路径是否正确
3. 确认路径中使用了 `\\` 双斜杠或 `/` 正斜杠
4. 测试：在 CMD 中直接运行该路径，看是否能打开 IDE

### Q: 提示缺少主题文件？
**A:** 
确保 `themes.py` 和 `open.exe` 在同一目录

### Q: 如何卸载？
**A:** 
1. 删除程序文件夹
2. 从环境变量 PATH 中移除路径
3. 可选：删除 `C:\Users\你的用户名\.project-manager\`

---

## 📌 重要提示

1. **无需 Python 环境**
   - `open.exe` 是独立的可执行文件
   - 已包含所有依赖库
   - 可以在没有 Python 的电脑上运行

2. **必需文件**
   - `open.exe` 和 `themes.py` 必须在同一目录
   - `config.json` 必须配置正确的 IDE 路径

3. **PATH 环境变量**
   - 安装后必须重新打开 CMD
   - 如果自动安装失败，可以手动添加到 PATH

4. **配置文件格式**
   - JSON 中必须使用 `\\` 双斜杠
   - 或者使用 `/` 正斜杠也可以
   - 不能使用单个 `\` 反斜杠

---

## 🎉 开始使用

部署完成后，试试这些命令：

```cmd
# 查看帮助
open help

# 添加一个项目
cd C:\your-project
open add

# 批量打开项目
open ls

# 切换主题
open style

# 查看统计
open stats
```

**享受高效的项目管理体验！** 🚀

